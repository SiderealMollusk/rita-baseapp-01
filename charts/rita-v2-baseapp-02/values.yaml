replicaCount: 1

image:
  repository: ghcr.io/rita/rita-v2-baseapp-02
  pullPolicy: IfNotPresent
  tag: "latest"

service:
  type: ClusterIP
  port: 80
  targetPort: 3000

ingress:
  enabled: false
  className: "traefik"
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: websecure
    traefik.ingress.kubernetes.io/router.tls: "true"
  hosts:
    - host: baseapp.homelab.local
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: []
  #  - secretName: baseapp-tls
  #    hosts:
  #      - baseapp.homelab.local

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 256Mi

# Extra environment variables
env: []

# Configuration for OpenTelemetry
otel:
  enabled: true
  # Should point to the OTLP collector service
  # Default assumes observability-stack is deployed in the same namespace
  exporter:
    traces:
      endpoint: "http://otel-collector:4318/v1/traces"
    metrics:
      endpoint: "http://otel-collector:4318/v1/metrics"

# Database configuration
database:
  host: "postgres-service"
  port: "5432"

# Secrets management
# If externalSecrets.enabled is true, an ExternalSecret resource will be created
# and the deployment will use it. Otherwise, a standard Secret is created from 'secrets' values.
externalSecrets:
  enabled: false
  secretStoreName: "1password-vault" # Name of the ClusterSecretStore or SecretStore
  secretStoreKind: "ClusterSecretStore"
  refreshInterval: "1h"
  # Mapping of keys in the remote secret to the environment variables
  # This usually matches the keys in 1Password
  remoteRef:
    key: "rita-baseapp-secrets" # The name/ID of the secret in 1Password

secrets:
  DATABASE_USER: "postgres"
  DATABASE_PASSWORD: "postgres"
  DATABASE_NAME: "db-dev"
  JWT_SECRET: "change-me"
  SUPABASE_URL: ""
  SUPABASE_KEY: ""
